= form_for(@event) do |f|
  - if @event.errors.any?
    #error_explanation
      %h2
        = pluralize(@event.errors.count, "error")
        prohibited this event from being saved:
      %ul
        - @event.errors.full_messages.each do |message|
          %li#err_item= message
  .field
    = f.label "Event name:"
    = f.text_field :name, required: true
  %br/

  .field
    = f.label "Event type:"
    = f.select :event_type, ['Hackathon', 'Wedding', 'Conference']
  %br/
  .field 
    = f.label "App color:"
    = f.select :app_color, ['Green', 'Blue', 'Yellow']
  %br/
  .field
    %br/
    - if @event.app_logo.present?
      = image_tag @event.app_logo.to_s, :class => "img_preview"
    - else
      = image_tag "default", :class=> "img_preview"
    .field
      .image_container.btn.btn-primary
        %span
        - if @event.app_logo.present?
          Change Logo
        - else
          Upload Logo
        = f.file_field :app_logo, :id=>"question_image"

  .actions
    = f.submit

:javascript
  $(document).ready(function() {
    $("#question_image").change(function(){
        readURL(this);
    });

  });
  function readURL(input) {
    if (input.files && input.files[0]) {
      var reader = new FileReader();
      reader.onload = function (e) {
        $('.img_preview').attr('src', e.target.result);
      }
      reader.readAsDataURL(input.files[0]);
    }
  }